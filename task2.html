<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="task2.css">
  <title>Music Player</title>
  <script src="https://kit.fontawesome.com/de8b147420.js" crossorigin="anonymous"></script>
</head>
<body>
 <div class="container">
    <div class="music-player">
        <nav>
            <div class="circle">  
                <i class="fa-solid fa-angle-left"></i>   
            </div>
            <div class="circle">
                <i class="fa-solid fa-bars"></i>
            </div>
        </nav>
        <img src="media/image.png" class="song-img">

        <h1>Talepatia</h1>
        <p> Ft. Kali Uchis</p>

        <audio controls id="song">
            <source src="media/TelepatÃ­a - Slowed ! Remix ! Kali Uchis ! Spanish Song.mp3" type="audio/mpeg">
        </audio>
        <input type="range" value="0" id="progress">
        <div class="controls">   
            <div>
            <i class="fa-solid fa-backward"></i>  
            </div>
                
            <div onclick="playpause()">
                <i class="fa-solid fa-play" id="ctrlIcon"></i>
            </div>
            <div>
                <i class="fa-solid fa-forward"></i>
            </div>

    </div>
 </div>
<script>
 
 let progress = document.getElementById("progress");
 let song = document.getElementById("song");
 let ctrlIcon = document.getElementById("ctrlIcon");

 song.onloadedmetadata = function(){
    progress.max = song.duration;
    progress.value = song.currentTime;
 }
  
  function  playpause()
  {
    if(ctrlIcon.classlist.contains("fa-pause")){
        song.pause();
        ctrlIcon.classList.remove("fa-pause");
        ctrlIcon.classList.add("fa-play");
    }
    else{
        song.play();
        ctrlIcon.classList.add("fa-pause");
        ctrlIcon.classList.remove("fa-play");
    }
 }                                    

if(song.play()){
    setInterval(()=>{
        progress.value = song.currentTime;
    },500)
}

progress.onchange=function(){
    song.play();
    song.currentTime = progress.value;
    ctrlIcon.classlist.add("fa-pause");
    ctrlIcon.classlist.remove("fa-play");
}
 </script>
</body>
</html>
